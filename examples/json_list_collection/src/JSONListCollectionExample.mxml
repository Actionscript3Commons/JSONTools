<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009"
               xmlns:s="library://ns.adobe.com/flex/spark"
               creationComplete="_handleCreationComplete()" xmlns:mx="library://ns.adobe.com/flex/mx">
	<fx:Script>
		<![CDATA[
			import ab.fl.utils.json.JSONListCollection;
			import ab.fl.utils.json.JSONList;
			import ab.fl.utils.json.JSON;
			private function _handleCreationComplete():void
			{
				// Plain JSON, without "_explicitType":"remoteAlias" information generated by JSON.encodeToTyped().
				var rawJSON:String = '{"logoURL":"http://team.com/logo.png","players":[{"position":"Guard","jerseyNumber":"24","lastName":"Bryant","firstName":"Kobe"},{"position":"Forward","jerseyNumber":"7","lastName":"Odom","firstName":"Lamar"}],"name":"Lakers"}';
				
				// Create a JSON object from the plain JSON (not strong typed JSON).
				var json:JSON = new JSON(rawJSON);
				
				// Create the JSONList.  Calling "json.players" returns a JSON object, to get the 
				// actual Array use valueOf(), "json.players.valueOf()"
				var jsonList:JSONList = new JSONList(json.players.valueOf());
				
				// You can use JSONList or JSONListCollection for your Spark lists.
				spark_list.dataProvider = jsonList;
				
				// Can also use the JSONList or JSONListCollection object for mx_list.
				mx_list.dataProvider = new JSONListCollection(jsonList);
			}
			
			/**
			 * Label function used to create the display of the lists.
			 */
			private function _createDisplayLabel(item:Object):String
			{
				return item.firstName + " " + item.lastName + " - " + item.position;
			}
		]]>
	</fx:Script>

	<s:layout>
		<s:HorizontalLayout />
	</s:layout>

	<s:VGroup>
		<s:Label text="MX List"/>
		<mx:List id="mx_list" labelFunction="_createDisplayLabel" />
	</s:VGroup>

	<s:VGroup>
		<s:Label text="Spark List"/>
		<s:List id="spark_list" labelFunction="_createDisplayLabel" />
	</s:VGroup>

</s:Application>